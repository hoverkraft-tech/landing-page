---
import BrandGuidelinesView from '../views/brand-guidelines.astro';
import MethodologyView from '../views/methodology.astro';
import MaturityAssessmentView from '../views/maturity-assessment.astro';
import MaturityAssessmentShareView from '../views/maturity-assessment-share.astro';
import OffersView from '../views/offers.astro';
import ResourcesView from '../views/resources.astro';

const localizedViews = {
  methodologie: MethodologyView,
  offres: OffersView,
  'open-kraft': ResourcesView,
  'charte-graphique': BrandGuidelinesView,
  'radar-maturite': MaturityAssessmentView,
  'radar-maturite-partage': MaturityAssessmentShareView,
} as const;

export function getStaticPaths() {
  return [
    { params: { slug: 'methodologie' } },
    { params: { slug: 'offres' } },
    { params: { slug: 'open-kraft' } },
    { params: { slug: 'charte-graphique' } },
    { params: { slug: 'radar-maturite' } },
    { params: { slug: 'radar-maturite-partage' } },
  ];
}

const slugParam = Astro.params.slug;

if (!slugParam || !(slugParam in localizedViews)) {
  throw new Error(`Unknown localized page slug: ${slugParam ?? 'undefined'}`);
}

const View = localizedViews[slugParam as keyof typeof localizedViews];
---

<View />
