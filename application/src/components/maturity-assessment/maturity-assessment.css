[data-maturity-questions] fieldset {
  border-radius: 0.75rem;
  transition:
    box-shadow 0.2s ease,
    outline-color 0.2s ease,
    outline-offset 0.2s ease;
  outline: 2px solid transparent;
  outline-offset: 4px;
}

[data-maturity-questions] fieldset:focus-within {
  outline-color: color-mix(in srgb, var(--aw-color-secondary) 60%, transparent);
  box-shadow: none;
}

@media print {
  @page {
    /* Leave room for the repeating (fixed) print header */
    margin: 26mm 14mm 54mm 14mm;
  }

  [data-maturity-assessment] {
    color-scheme: light;
    --aw-color-text-heading: rgb(29 32 38);
    --aw-color-text-default: rgb(80 102 144);
    --aw-color-text-muted: rgb(80 102 144 / 70%);
    /* Keep radar chart blue in print even if the site is in dark mode (where secondary becomes accent). */
    --aw-color-secondary: rgb(25 152 255);
    --aw-color-bg-page: rgb(255 255 255);

    /* Tailwind v4 maps utilities to these variables (see tailwind.css) */
    --color-default: var(--aw-color-text-default);
    --color-muted: var(--aw-color-text-muted);
    --color-secondary: var(--aw-color-secondary);
    display: block !important;
  }

  /* Make the report background deterministic (avoid dark-mode translucent backgrounds in print/PDF). */
  [data-maturity-sidebar] > div {
    background-color: var(--aw-color-bg-page) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Repeat a basic header on every printed page */
  [data-print-header] {
    position: fixed !important;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    padding: 12px 14mm;
    background: var(--aw-color-bg-page) !important;
    border-bottom: 1px solid color-mix(in srgb, var(--aw-color-text-default) 22%, transparent);
  }

  /* Repeat a basic footer on every printed page */
  [data-print-footer] {
    position: fixed !important;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 50;
    padding: 6px 14mm;
    background: var(--aw-color-bg-page) !important;
    border-top: 1px solid color-mix(in srgb, var(--aw-color-text-default) 22%, transparent);
    margin-top: 0 !important;
  }

  [data-maturity-sidebar] > div {
    text-align: left !important;
  }

  [data-current-profile-title] {
    display: none !important;
  }

  [data-print-header],
  [data-print-footer],
  [data-print-interpretation-title] {
    display: block !important;
  }

  [data-maturity-questions] {
    display: none !important;
  }

  [data-maturity-sidebar] {
    position: static !important;
    top: auto !important;
    width: 100% !important;
  }

  [data-maturity-sidebar] > div {
    break-inside: auto;
    page-break-inside: auto;
  }

  [data-progress-section],
  [data-reset-section],
  [data-share-section] {
    display: none !important;
  }

  [data-print-summary] {
    display: block !important;
  }

  [data-print-summary] ul {
    display: block !important;
  }

  [data-print-summary] li {
    display: block !important;
  }

  [data-print-summary] li > span {
    display: block;
  }

  [data-print-summary] section {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  [data-print-summary] li {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  [data-print-summary] section {
    break-inside: auto;
    page-break-inside: auto;
  }

  [data-print-summary] li,
  [data-print-summary] h4,
  [data-print-summary] [data-print-answer] {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  [data-print-summary] h4 {
    break-after: avoid;
    page-break-after: avoid;
  }

  [data-print-summary] ul {
    break-before: avoid;
    page-break-before: avoid;
  }

  [data-print-summary] li {
    padding-bottom: 12mm;
  }

  [data-print-header],
  svg[data-radar],
  [data-print-footer] {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  [data-print-header] {
    break-after: avoid;
    page-break-after: avoid;
  }
}
